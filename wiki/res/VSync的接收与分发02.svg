<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1801px" height="781px" viewBox="-0.5 -0.5 1801 781" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2022-10-31T09:15:47.791Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36&quot; etag=&quot;m7FzvxuAj6AgSyb2XBoy&quot; version=&quot;20.5.1&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;3DulHgM3GVHq9iDLcP9_&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-4-480-192-20-0"><rect x="4" y="480" width="192" height="20"/></clipPath><clipPath id="mx-clip-764-660-152-30-0"><rect x="764" y="660" width="152" height="30"/></clipPath><clipPath id="mx-clip-764-690-152-20-0"><rect x="764" y="690" width="152" height="20"/></clipPath><clipPath id="mx-clip-764-710-152-30-0"><rect x="764" y="710" width="152" height="30"/></clipPath><clipPath id="mx-clip-764-740-152-20-0"><rect x="764" y="740" width="152" height="20"/></clipPath><clipPath id="mx-clip-764-760-152-20-0"><rect x="764" y="760" width="152" height="20"/></clipPath><clipPath id="mx-clip-764-460-152-20-0"><rect x="764" y="460" width="152" height="20"/></clipPath><clipPath id="mx-clip-4-220-192-20-0"><rect x="4" y="220" width="192" height="20"/></clipPath><clipPath id="mx-clip-564-220-152-20-0"><rect x="564" y="220" width="152" height="20"/></clipPath><clipPath id="mx-clip-564-240-152-20-0"><rect x="564" y="240" width="152" height="20"/></clipPath><clipPath id="mx-clip-564-260-152-20-0"><rect x="564" y="260" width="152" height="20"/></clipPath><clipPath id="mx-clip-804-290-192-20-0"><rect x="804" y="290" width="192" height="20"/></clipPath><clipPath id="mx-clip-1084-220-152-20-0"><rect x="1084" y="220" width="152" height="20"/></clipPath><clipPath id="mx-clip-1324-280-192-20-0"><rect x="1324" y="280" width="192" height="20"/></clipPath><clipPath id="mx-clip-1084-100-152-20-0"><rect x="1084" y="100" width="152" height="20"/></clipPath><clipPath id="mx-clip-1084-120-152-20-0"><rect x="1084" y="120" width="152" height="20"/></clipPath><clipPath id="mx-clip-1084-140-152-20-0"><rect x="1084" y="140" width="152" height="20"/></clipPath><clipPath id="mx-clip-284-430-192-20-0"><rect x="284" y="430" width="192" height="20"/></clipPath><clipPath id="mx-clip-1004-600-112-20-0"><rect x="1004" y="600" width="112" height="20"/></clipPath><clipPath id="mx-clip-1004-620-112-20-0"><rect x="1004" y="620" width="112" height="20"/></clipPath><clipPath id="mx-clip-1004-640-112-20-0"><rect x="1004" y="640" width="112" height="20"/></clipPath><clipPath id="mx-clip-1084-20-152-20-0"><rect x="1084" y="20" width="152" height="20"/></clipPath><clipPath id="mx-clip-1604-280-112-20-0"><rect x="1604" y="280" width="112" height="20"/></clipPath><clipPath id="mx-clip-1604-300-112-20-0"><rect x="1604" y="300" width="112" height="20"/></clipPath><clipPath id="mx-clip-1604-320-112-20-0"><rect x="1604" y="320" width="112" height="20"/></clipPath><clipPath id="mx-clip-1604-380-192-20-0"><rect x="1604" y="380" width="192" height="20"/></clipPath><clipPath id="mx-clip-1604-460-192-20-0"><rect x="1604" y="460" width="192" height="20"/></clipPath></defs><g><path d="M 0 380 L 0 360 L 200 360 L 200 380" fill="#000066" stroke="#000066" stroke-miterlimit="10" pointer-events="all"/><path d="M 0 380 L 0 500 L 200 500 L 200 380" fill="none" stroke="#000066" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 380 L 200 380" fill="none" stroke="#000066" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="99.5" y="374.5">SurfaceFlinger</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 190px; height: 1px; padding-top: 400px; margin-left: 6px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 36px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><div>// scheduler::ConnectionHandle</div><font color="#000000">mAppConnectionHandle</font></div></div></div></foreignObject><text x="6" y="404" fill="#FF0000" font-family="Helvetica" font-size="12px">// scheduler::ConnectionHandlemA...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 190px; height: 1px; padding-top: 440px; margin-left: 6px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 36px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><div>// scheduler::ConnectionHandle</div><font color="#000000">mSfConnectionHandle</font></div></div></div></foreignObject><text x="6" y="444" fill="#FF0000" font-family="Helvetica" font-size="12px">// scheduler::ConnectionHandlemS...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 190px; height: 1px; padding-top: 470px; margin-left: 6px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 16px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><div></div><font color="#000000">mScheduler</font></div></div></div></foreignObject><text x="6" y="474" fill="#FF0000" font-family="Helvetica" font-size="12px">mScheduler</text></switch></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-4-480-192-20-0)" font-size="12px"><text x="5.5" y="494.5">createDisplayEventConnection()</text></g><path d="M 760 660 L 760 640 L 920 640 L 920 660" fill="#000066" stroke="#000066" stroke-miterlimit="10" pointer-events="none"/><path d="M 760 660 L 760 780 L 920 780 L 920 660" fill="none" stroke="#000066" stroke-miterlimit="10" pointer-events="none"/><path d="M 760 660 L 920 660" fill="none" stroke="#000066" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="839.5" y="654.5">EventThread</text></g><g fill="#FF0000" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-764-660-152-30-0)" font-size="12px"><text x="765.5" y="672.5">// 在构造函数被创建</text><text x="765.5" y="686.5">// 分发 VSync 的独立线程</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-764-690-152-20-0)" font-size="12px"><text x="765.5" y="704.5">mThread</text></g><g fill="#FF0000" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-764-710-152-30-0)" font-size="12px"><text x="765.5" y="722.5">// VSync 分发给该集合</text><text x="765.5" y="736.5">// 中的成员</text></g><rect x="760" y="740" width="160" height="20" fill="#00d766" stroke="none" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-764-740-152-20-0)" font-size="12px"><text x="765.5" y="754.5">mDisplayEventConnections</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-764-760-152-20-0)" font-size="12px"><text x="765.5" y="774.5">createEventConnection()</text></g><path d="M 760 460 L 760 440 L 920 440 L 920 460" fill="#000066" stroke="#000066" stroke-miterlimit="10" pointer-events="none"/><path d="M 760 460 L 760 580 L 920 580 L 920 460" fill="none" stroke="#000066" stroke-miterlimit="10" pointer-events="none"/><path d="M 760 460 L 920 460" fill="none" stroke="#000066" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="839.5" y="454.5">EventThreadConnection</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-764-460-152-20-0)" font-size="12px"><text x="765.5" y="474.5">requestNextVsync()</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 150px; height: 1px; padding-top: 520px; margin-left: 766px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 76px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><div>// 将 SF 进程中 BitTube 的 </div><div>// mReceiveFd 传到 app </div><div>// 进程中，使 APP 可以</div><div>// 收到 SF 的消息<br /></div><font color="#000000">stealReceiveChannel()</font></div></div></div></foreignObject><text x="766" y="524" fill="#FF0000" font-family="Helvetica" font-size="12px">// 将 SF 进程中 BitTube 的...</text></switch></g><rect x="760" y="560" width="160" height="20" fill="#00d766" stroke="none" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 150px; height: 1px; padding-top: 570px; margin-left: 766px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 16px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><div></div><font color="#000000">mChannel</font></div></div></div></foreignObject><text x="766" y="574" fill="#FF0000" font-family="Helvetica" font-size="12px">mChannel</text></switch></g><path d="M 1160 80 L 1160 48.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1160 41.12 L 1163.5 48.12 L 1156.5 48.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1320 100 L 1320 80 L 1720 80 L 1720 100" fill="#000000" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1320 100 L 1320 170 L 1720 170 L 1720 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1320 100 L 1720 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="1519.5" y="94.5">android::Looper</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 390px; height: 1px; padding-top: 135px; margin-left: 1326px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 66px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><div></div><div style="">// 调用 UI 线程 Looper 对象的 mLooper-&gt;addFd 方法，监听 VSync 事件</div><div style="">// 底层使用 epoll 机制监听，回调处理器为 DisplayEventDispatcher 对象，</div><span style="background-color: initial;">// 当有 VSync 事件时，回调 DisplayEventDispatcher::handleEvent() 方法<br /></span><font color="#000000">addFd()</font></div></div></div></foreignObject><text x="1326" y="139" fill="#FF0000" font-family="Helvetica" font-size="12px">// 调用 UI 线程 Looper 对象的 mLooper-&gt;addFd 方法，监听 VSync 事件...</text></switch></g><path d="M 203 230 Q 230 230 240 215 Q 250 200 273.63 200" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="200" cy="230" rx="3" ry="3" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" pointer-events="none"/><path d="M 278.88 200 L 271.88 203.5 L 273.63 200 L 271.88 196.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 220 L 0 200 L 200 200 L 200 220" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 220 L 0 240 L 200 240 L 200 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 220 L 200 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="99.5" y="214.5">ThreadLocal&lt;Choreographer&gt;</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-4-220-192-20-0)" font-size="12px"><text x="5.5" y="234.5">initialValue()</text></g><path d="M 280 220 L 280 200 L 480 200 L 480 220" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 280 220 L 280 260 L 480 260 L 480 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 280 220 L 480 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="379.5" y="214.5">Thread</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 190px; height: 1px; padding-top: 240px; margin-left: 286px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 36px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><div>// ThreadLocal.ThreadLocalMap</div><font color="#000000">threadLocals</font></div></div></div></foreignObject><text x="286" y="244" fill="#FF0000" font-family="Helvetica" font-size="12px">// ThreadLocal.ThreadLocalMapthr...</text></switch></g><path d="M 560 220 L 560 200 L 720 200 L 720 220" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 560 220 L 560 280 L 720 280 L 720 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 560 220 L 720 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="639.5" y="214.5">Choreographer</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-564-220-152-20-0)" font-size="12px"><text x="565.5" y="234.5">mDisplayEventReceiver </text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-564-240-152-20-0)" font-size="12px"><text x="565.5" y="254.5">mCallbackQueues </text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-564-260-152-20-0)" font-size="12px"><text x="565.5" y="274.5">mLooper</text></g><path d="M 487.71 240 Q 510 240 520 220 Q 530 200 560 200" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 480.71 240 L 484.21 236.5 L 487.71 240 L 484.21 243.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 800 220 L 800 200 L 1000 200 L 1000 220" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 800 220 L 800 310 L 1000 310 L 1000 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 800 220 L 1000 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="899.5" y="214.5">FrameDisplayEventReceiver </text></g><rect x="800" y="220" width="200" height="50" fill="rgb(255, 255, 255)" stroke="none" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 190px; height: 1px; padding-top: 245px; margin-left: 806px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 46px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><div>// long 类型，保存 </div><div>// NativeDisplayEventReceiver </div><div>// 对象在 native 层的地址</div></div></div></div></foreignObject><text x="806" y="249" fill="#FF0000" font-family="Helvetica" font-size="12px">// long 类型，保存...</text></switch></g><rect x="800" y="270" width="200" height="20" fill="#00d766" stroke="none" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 190px; height: 1px; padding-top: 280px; margin-left: 806px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 16px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><div></div><font color="#000000">mReceiverPtr</font></div></div></div></foreignObject><text x="806" y="284" fill="#FF0000" font-family="Helvetica" font-size="12px">mReceiverPtr</text></switch></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-804-290-192-20-0)" font-size="12px"><text x="805.5" y="304.5">nativeInit()</text></g><path d="M 723 230 Q 750 230 760 215 Q 770 200 793.63 200" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="720" cy="230" rx="3" ry="3" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" pointer-events="none"/><path d="M 798.88 200 L 791.88 203.5 L 793.63 200 L 791.88 196.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1160 200 L 1160 168.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1160 161.12 L 1163.5 168.12 L 1156.5 168.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1080 220 L 1080 200 L 1240 200 L 1240 220" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1080 220 L 1080 240 L 1240 240 L 1240 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1080 220 L 1240 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="1159.5" y="214.5">NativeDisplayEventReceiver</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-1084-220-152-20-0)" font-size="12px"><text x="1085.5" y="234.5">mLooper</text></g><path d="M 1003 280 Q 1030 280 1040 240 Q 1050 200 1073.63 200" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><ellipse cx="1000" cy="280" rx="3" ry="3" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" pointer-events="none"/><path d="M 1078.88 200 L 1071.88 203.5 L 1073.63 200 L 1071.88 196.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1320 220 L 1320 200 L 1520 200 L 1520 220" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1320 220 L 1320 300 L 1520 300 L 1520 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1320 220 L 1520 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="1419.5" y="214.5">DisplayEventReceiver</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 190px; height: 1px; padding-top: 240px; margin-left: 1326px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 36px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">// gui::BitTube 对象，与 SF 中的<br />// gui::BitTube 对象互通</div></div></div></foreignObject><text x="1326" y="244" fill="#FF0000" font-family="Helvetica" font-size="12px">// gui::BitTube 对象，与 SF 中的...</text></switch></g><rect x="1320" y="260" width="200" height="20" fill="#00d766" stroke="none" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 190px; height: 1px; padding-top: 270px; margin-left: 1326px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 16px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><div></div><font color="#000000">mDataChannel</font></div></div></div></foreignObject><text x="1326" y="274" fill="#FF0000" font-family="Helvetica" font-size="12px">mDataChannel</text></switch></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-1324-280-192-20-0)" font-size="12px"><text x="1325.5" y="294.5">mEventConnection </text></g><path d="M 1243 150 Q 1270 150 1280 175 Q 1290 200 1313.63 200" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="1240" cy="150" rx="3" ry="3" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" pointer-events="none"/><path d="M 1318.88 200 L 1311.88 203.5 L 1313.63 200 L 1311.88 196.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1080 100 L 1080 80 L 1240 80 L 1240 100" fill="#000000" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1080 100 L 1080 160 L 1240 160 L 1240 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1080 100 L 1240 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="1159.5" y="94.5">DisplayEventDispatcher</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-1084-100-152-20-0)" font-size="12px"><text x="1085.5" y="114.5">mLooper</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-1084-120-152-20-0)" font-size="12px"><text x="1085.5" y="134.5">initialize()</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-1084-140-152-20-0)" font-size="12px"><text x="1085.5" y="154.5">mReceiver</text></g><path d="M 280 380 L 280 360 L 480 360 L 480 380" fill="#000066" stroke="#000066" stroke-miterlimit="10" pointer-events="none"/><path d="M 280 380 L 280 450 L 480 450 L 480 380" fill="none" stroke="#000066" stroke-miterlimit="10" pointer-events="none"/><path d="M 280 380 L 480 380" fill="none" stroke="#000066" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="379.5" y="374.5">Scheduler</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 190px; height: 1px; padding-top: 405px; margin-left: 286px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 46px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><div>// std::unordered_map<br />// &lt;ConnectionHandle, Connection&gt;</div><font color="#000000">mConnections</font></div></div></div></foreignObject><text x="286" y="409" fill="#FF0000" font-family="Helvetica" font-size="12px">// std::unordered_map...</text></switch></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-284-430-192-20-0)" font-size="12px"><text x="285.5" y="444.5">createConnectionInternal()</text></g><path d="M 203 470 Q 230 470 240 415 Q 250 360 273.63 360" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="200" cy="470" rx="3" ry="3" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" pointer-events="none"/><path d="M 278.88 360 L 271.88 363.5 L 273.63 360 L 271.88 356.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 560 460 L 560 440 L 680 440 L 680 460" fill="#000066" stroke="#000066" stroke-miterlimit="10" pointer-events="none"/><path d="M 560 460 L 560 500 L 680 500 L 680 460" fill="none" stroke="#000066" stroke-miterlimit="10" pointer-events="none"/><path d="M 560 460 L 680 460" fill="none" stroke="#000066" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="619.5" y="454.5">Connection</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 110px; height: 1px; padding-top: 470px; margin-left: 566px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 16px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><div></div><font color="#000000">connection</font></div></div></div></foreignObject><text x="566" y="474" fill="#FF0000" font-family="Helvetica" font-size="12px">connection</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 110px; height: 1px; padding-top: 490px; margin-left: 566px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 16px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><div></div><font color="#000000">thread</font></div></div></div></foreignObject><text x="566" y="494" fill="#FF0000" font-family="Helvetica" font-size="12px">thread</text></switch></g><path d="M 683 470 Q 710 470 720 455 Q 730 440 753.63 440" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="680" cy="470" rx="3" ry="3" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" pointer-events="none"/><path d="M 758.88 440 L 751.88 443.5 L 753.63 440 L 751.88 436.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 683 490 Q 710 490 720 565 Q 730 640 753.63 640" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="680" cy="490" rx="3" ry="3" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" pointer-events="none"/><path d="M 758.88 640 L 751.88 643.5 L 753.63 640 L 751.88 636.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 560 380 L 560 360 L 680 360 L 680 380" fill="#000066" stroke="#000066" stroke-miterlimit="10" pointer-events="none"/><path d="M 560 380 L 560 410 L 680 410 L 680 380" fill="none" stroke="#000066" stroke-miterlimit="10" pointer-events="none"/><path d="M 560 380 L 680 380" fill="none" stroke="#000066" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="619.5" y="374.5">ConnectionHandle</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 110px; height: 1px; padding-top: 395px; margin-left: 566px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 26px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><div>// std::uintptr_t<br /></div><font color="#000000">id</font></div></div></div></foreignObject><text x="566" y="399" fill="#FF0000" font-family="Helvetica" font-size="12px">// std::uintptr_t...</text></switch></g><path d="M 487.71 405 Q 510 405 520 382.5 Q 530 360 560 360" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 480.71 405 L 484.21 401.5 L 487.71 405 L 484.21 408.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 487.71 405 Q 510 405 520 422.5 Q 530 440 560 440" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 480.71 405 L 484.21 401.5 L 487.71 405 L 484.21 408.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1000 540 L 1000 520 L 1120 520 L 1120 540" fill="#000066" stroke="#000066" stroke-miterlimit="10" pointer-events="none"/><path d="M 1000 540 L 1000 660 L 1120 660 L 1120 540" fill="none" stroke="#000066" stroke-miterlimit="10" pointer-events="none"/><path d="M 1000 540 L 1120 540" fill="none" stroke="#000066" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="1059.5" y="534.5">gui::BitTube</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 110px; height: 1px; padding-top: 555px; margin-left: 1006px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 26px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><div>// base::unique_fd<br /></div><font color="#000000">mSendFd</font></div></div></div></foreignObject><text x="1006" y="559" fill="#FF0000" font-family="Helvetica" font-size="12px">// base::unique_fd...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 110px; height: 1px; padding-top: 585px; margin-left: 1006px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 26px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><div>// base::unique_fd<br /></div><font color="#000000">mReceiveFd</font></div></div></div></foreignObject><text x="1006" y="589" fill="#FF0000" font-family="Helvetica" font-size="12px">// base::unique_fd...</text></switch></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-1004-600-112-20-0)" font-size="12px"><text x="1005.5" y="614.5">init()</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-1004-620-112-20-0)" font-size="12px"><text x="1005.5" y="634.5">setReceiveFd()</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-1004-640-112-20-0)" font-size="12px"><text x="1005.5" y="654.5">setSendFd()</text></g><path d="M 923 570 Q 950 570 960 545 Q 970 520 993.63 520" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="920" cy="570" rx="3" ry="3" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" pointer-events="none"/><path d="M 998.88 520 L 991.88 523.5 L 993.63 520 L 991.88 516.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1080 20 L 1080 0 L 1240 0 L 1240 20" fill="#000000" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1080 20 L 1080 40 L 1240 40 L 1240 20" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1080 20 L 1240 20" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="1159.5" y="14.5">LooperCallback</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-1084-20-152-20-0)" font-size="12px"><text x="1085.5" y="34.5">handleEvent()</text></g><path d="M 1243 110 Q 1270 110 1280 95 Q 1290 80 1313.63 80" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="1240" cy="110" rx="3" ry="3" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" pointer-events="none"/><path d="M 1318.88 80 L 1311.88 83.5 L 1313.63 80 L 1311.88 76.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="800" y="180" width="30" height="20" rx="10" ry="10" fill="#ff0000" stroke="none" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 28px; height: 1px; padding-top: 190px; margin-left: 801px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">1</div></div></div></foreignObject><text x="815" y="194" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">1</text></switch></g><rect x="1320" y="60" width="30" height="20" rx="10" ry="10" fill="#ff0000" stroke="none" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 28px; height: 1px; padding-top: 70px; margin-left: 1321px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">2</div></div></div></foreignObject><text x="1335" y="74" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">2</text></switch></g><rect x="1320" y="180" width="30" height="20" rx="10" ry="10" fill="#ff0000" stroke="none" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 28px; height: 1px; padding-top: 190px; margin-left: 1321px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">3</div></div></div></foreignObject><text x="1335" y="194" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">3</text></switch></g><rect x="760" y="420" width="30" height="20" rx="10" ry="10" fill="#ff0000" stroke="none" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 28px; height: 1px; padding-top: 430px; margin-left: 761px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">4</div></div></div></foreignObject><text x="775" y="434" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">4</text></switch></g><path d="M 1600 220 L 1600 200 L 1720 200 L 1720 220" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1600 220 L 1600 340 L 1720 340 L 1720 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1600 220 L 1720 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="1659.5" y="214.5">gui::BitTube</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 110px; height: 1px; padding-top: 235px; margin-left: 1606px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 26px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><div>// base::unique_fd<br /></div><font color="#000000">mSendFd</font></div></div></div></foreignObject><text x="1606" y="239" fill="#FF0000" font-family="Helvetica" font-size="12px">// base::unique_fd...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 110px; height: 1px; padding-top: 265px; margin-left: 1606px;"><div data-drawio-colors="color: #FF0000; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 26px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><div>// base::unique_fd<br /></div><font color="#000000">mReceiveFd</font></div></div></div></foreignObject><text x="1606" y="269" fill="#FF0000" font-family="Helvetica" font-size="12px">// base::unique_fd...</text></switch></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-1604-280-112-20-0)" font-size="12px"><text x="1605.5" y="294.5">init()</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-1604-300-112-20-0)" font-size="12px"><text x="1605.5" y="314.5">setReceiveFd()</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-1604-320-112-20-0)" font-size="12px"><text x="1605.5" y="334.5">setSendFd()</text></g><path d="M 1523 270 Q 1550 270 1560 235 Q 1570 200 1593.63 200" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="1520" cy="270" rx="3" ry="3" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" pointer-events="none"/><path d="M 1598.88 200 L 1591.88 203.5 L 1593.63 200 L 1591.88 196.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="760" y="620" width="30" height="20" rx="10" ry="10" fill="#ff0000" stroke="none" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 28px; height: 1px; padding-top: 630px; margin-left: 761px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">6</div></div></div></foreignObject><text x="775" y="634" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">6</text></switch></g><rect x="0" y="340" width="30" height="20" rx="10" ry="10" fill="#ff0000" stroke="none" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 28px; height: 1px; padding-top: 350px; margin-left: 1px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">5</div></div></div></foreignObject><text x="15" y="354" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">5</text></switch></g><path d="M 1600 380 L 1600 360 L 1800 360 L 1800 380" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1600 380 L 1600 400 L 1800 400 L 1800 380" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1600 380 L 1800 380" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="1699.5" y="374.5">sp&lt;IDisplayEventConnection&gt;</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-1604-380-192-20-0)" font-size="12px"><text x="1605.5" y="394.5">requestNextVsync()</text></g><path d="M 1700 440 L 1700 408.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1700 401.12 L 1703.5 408.12 L 1696.5 408.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1600 460 L 1600 440 L 1800 440 L 1800 460" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1600 460 L 1600 480 L 1800 480 L 1800 460" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1600 460 L 1800 460" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#ffffff" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="1699.5" y="454.5">BpEventThreadConnection</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-1604-460-192-20-0)" font-size="12px"><text x="1605.5" y="474.5">requestNextVsync()</text></g><path d="M 1523 290 Q 1550 290 1560 365 Q 1570 440 1593.63 440" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="1520" cy="290" rx="3" ry="3" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" pointer-events="none"/><path d="M 1598.88 440 L 1591.88 443.5 L 1593.63 440 L 1591.88 436.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1597 470 Q 1570 470 1260 470 Q 950 470 926.37 470" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><ellipse cx="1600" cy="470" rx="3" ry="3" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" pointer-events="none"/><path d="M 921.12 470 L 928.12 466.5 L 926.37 470 L 928.12 473.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 470px; margin-left: 1260px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">Binder IPC</div></div></div></foreignObject><text x="1260" y="473" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Binder IPC</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>